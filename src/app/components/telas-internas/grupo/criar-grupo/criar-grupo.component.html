<div class="container-grupo">
  <div class="card-grupo shadow">
    <h2 class="titulo">Criar Grupo</h2>

    <div class="form-section">
      
      <label for="group-name">Nome do Grupo</label>
      <input
        id="group-name"
        type="text"
        placeholder="Digite o nome do grupo"
        [(ngModel)]="nomeGrupo"
      />

      
      <label for="periodo">Selecione o per√≠odo</label>
      <select id="periodo" [(ngModel)]="periodoSelecionado">
        @for (periodo of periodosDisponiveis; track $index) {
          <option [value]="periodo">{{ periodo }}</option>
        }
      </select>

      
      <label>Selecione os integrantes</label>

      @if (alunosSelecionados().length > 0) {
        <div class="selecionados-container">
          @for (aluno of alunosSelecionados(); track $index) {
            <span class="badge-selecionado">
              {{ aluno.nome }}
              <button (click)="toggleAlunoSelecao(aluno)">x</button>
            </span>
          }
        </div>
      }

      <div class="campo-pesquisa" (click)="$event.stopPropagation()">
        <input
          placeholder="Pesquisar alunos..."
          [(ngModel)]="alunosPesquisa"
          (input)="filtrarAlunos()"
          (focus)="abrirLista('alunos')"
        />
        <ul
          class="lista-pesquisa"
          *ngIf="mostrarListaAlunos && alunosFiltrados.length > 0"
        >
          @for (aluno of alunosFiltrados; track $index) {
            <li
              (click)="toggleAlunoSelecao(aluno)"
              [class.selecionado]="isAlunoSelecionado(aluno)"
            >
              {{ aluno.nome }}
            </li>
          }
        </ul>
      </div>

    
      <label>Selecione os professores</label>

      @if (professoresSelecionados().length > 0) {
        <div class="selecionados-container">
          @for (professor of professoresSelecionados(); track $index) {
            <span class="badge-selecionado">
              {{ professor.nome }}
              <button (click)="toggleProfessorSelecao(professor)">x</button>
            </span>
          }
        </div>
      }

      <div class="campo-pesquisa" (click)="$event.stopPropagation()">
        <input
          placeholder="Pesquisar professores..."
          [(ngModel)]="professoresPesquisa"
          (input)="filtrarProfessores()"
          (focus)="abrirLista('professores')"
        />
        <ul
          class="lista-pesquisa"
          *ngIf="mostrarListaProfessores && professoresFiltrados.length > 0"
        >
          @for (professor of professoresFiltrados; track $index) {
            <li
              (click)="toggleProfessorSelecao(professor)"
              [class.selecionado]="isProfessorSelecionado(professor)"
            >
              {{ professor.nome }}
            </li>
          }
        </ul>
      </div>

  
      <div class="botoes">
        <button class="btn-cancelar" (click)="cancelar()">Cancelar</button>
        <button class="btn-criar" (click)="criarGrupo()">Criar</button>
      </div>
    </div>
  </div>
</div>
